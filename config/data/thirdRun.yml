- Action:
    Name : Open Homepage
    Request :
       Url : ${host}/posters/
    Response :
       Httpcode : 200
       Validate:
            - Title:
                XPath: id('titleIndex')
                Matches: "\\w out our *" 
            - Button:
                XPath: id('btnShowLoginForm')
            - MenuList :
                XPath : /html/body/div[6]/div/div[1]/div/ul/li
                Count : 17
            - Header :
                XPath: id('titleIndex')
                Text: "Check out our new panorama posters!"
            - ShowCard-Button :
                XPath : "/html/body/div[1]/div[2]/div/button[1]"
            
    Subrequests: 
        - Static:
            - ${host}/posters/assets/css/bootstrap-2.3.1.min.css
            - ${host}/posters/assets/css/bootstrap-responsive-2.0.4.css
      
- Action:
    Name : Drive to Dining
    Request :
       Url : ${host}/posters/topCategory/Dining?categoryId=2
    Response :
       Httpcode : 200
       Validate:
            - Title:
                XPath: "/html/body/div[6]/div/div[2]/h1[1]"
                Matches: "Dining" 
    Subrequests:
        - Xhr :
            Name : "navigate to page two"
            Request :
                Method: POST
                Url: ${host}/posters/getProductOfTopCategory
                Parameters:
                    - categoryId : 2
                    - page : 2
            Response :
                Httpcode : 200
                Validate :
                    - Validate Json Response :
                        XPath : "/json/currentPage"
                        Text : 2
                    - Validate Json Response2 :
                        XPath : "/json/products"
                        Count : 6
                        
- Action:
    Name : Select Product 'Frozen Pizza'
    Request : 
        Url : ${host}/posters/productDetail/Frozen%20Pizza
        Parameters :
            - productId : 46
    Response :
        Validate :
            - Validate Titel :
                XPath : "//*[@id='titleProductName']" 
                Text : Frozen Pizza 
            - Validate Text :
                RegEx : "\\<script src=\"[\\s\\S]*?\">"
                Text : "<script src=\"/posters/assets/js/jquery-1.9.1.min.js\">" 
    Subrequests:
        - Xhr :
            Name :  "Configure Pizza"
            Request :
                Url : ${host}/posters/updatePrice
                Method : POST
                Parameters :
                    - size : 64 x 48 in
                    - productId : 46
                Encode-Parameters : false   
            Response :
                Validate :
                    - Validate Price :
                        XPath : /json/newPrice
                        Text :  15.16$    
        - Xhr :
            Name : Add To Cart
            Request:
                Url : ${host}/posters/getCartElementSlider
            Response :
                Validate :
                    - Validate Unit Length:
                        XPath : /json/unitLength
                        Text : in
                    - Validate total Price :
                        XPath : /json/totalPrice 
                        Text : "0.00"
                        
        - Xhr :
            Name : Add To CartSlider
            Request:
                Url : "${host}/posters/addToCartSlider?productId=46&finish=matte&size=64%20x%2048%20in"
            Response :
                Validate :
                    - Validate Unit Length:
                        XPath : /json/product/finish
                        Text : matte
                    - Validate total Price :
                        XPath : /json/product/productPrice
                        Text : "15.16"
        
        - Xhr :
            Name : Add To CartSlider
            Request:
                Url : "${host}/posters/addToCartSlider"
                Parameters :
                    - productId : 46
                    - finish : matte
                    - size : 64 x 48 in   
            Response :
                Validate :
                    - Validate Unit Length:
                        XPath : /json/product/finish
                        Text : matte
                    - Validate total Price :
                        XPath : /json/product/productPrice
                        Text : "15.16"
                                        
        - Xhr :
            Name : Add To CartSlider
            Request:
                Url : "${host}/posters/addToCartSlider"
                Parameters :
                    - productId : 46
                    - finish : matte
                    - size : 64 x 48 in   
                Encode-Parameters : false
            Response :
                Validate :
                    - Validate Unit Length:
                        XPath : /json/product/finish
                        Text : matte
                    - Validate total Price :
                        XPath : /json/product/productPrice
                        Text : "15.16"
                        
- Action :
    Name : Go To Cart
    Request : 
        Url : ${host}/posters/cart
    Response :
        Validate :
            - Validate Title :
                XPath : "//*[@id='titleCart']" 
                Text : Cart  
                
- Action :
    Name : Procede To Checkout
    Request :
        Url : ${hostsec}/posters/checkout
    Response :
        Validate :
            - Validate Title :
                XPath : "//*[@id='formAddDelAddr']/fieldset/legend"
                Text :  Add a new shipping address
                
- Action :
    Name : Insert Shippig Data
    Request :
        Url : ${hostsec}/posters/shippingAddressCompleted
        Method : POST
        Parameters :
            - fullName : name
            - company : xceptance
            - addressLine : some street
            - city : some city
            - state : state
            - zip : 45787
            - country : United States
            - billEqualShipp : Yes
            - btnAddDelAddr : 

- Action :
    Name : Enter Payment Method
    Request :
        Url : ${hostsec}/posters/enterPaymentMethod
    Response :
        Validate :
            - Validate Title :
                XPath : "//*[@id='formAddPayment']/fieldset/legend"
                Text : Add a new credit card
        
- Action :
    Name : Payment Complete
    Request :
        Url: ${hostsec}/posters/paymentMethodCompleted
        Method : POST
        Parameters :
            - creditCardNumber : 4111111111111111
            - name : Dagobert Duck
            - expirationDateMonth : 01
            - expirationDateYear : 2017
            - btnAddPayment :        
            
- Action :
    Name : Checkout Overview
    Request :             
        Url : ${hostsec}/posters/checkoutOverview
    Response :
        Validate :
            - Validate Total Price :
                XPath : "//*[@id='totalWithTax']"
                Text : 55.63$
            - Validate Sales Tax :
                XPath : "//*[@id='tax']/div/h3"
                Text : "Sales tax: 6%"
            - Validate Something :
                XPath : "//*[@id='main']/div/div[2]/div[4]/ul/li[1]/h3"
                Text : "Shipping Addresses"
            - Validate Shipping address :
                XPath : "//*[@id='main']/div/div[2]/div[4]/ul/li"
                Count : 2
                
- Action :
    Name : checkout Complete
    Request :
        Url : ${host}/posters/checkoutCompleted
        Method : POST
        Parameters :
            - btnOrder :
                
        
                
        
                           
                        