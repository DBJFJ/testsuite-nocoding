- Store :
    - email : ${DATA.getEmail()}
    - firstName : ${DATA.getFirstName(false)}
    - lastName : ${DATA.getLastName(false)}
    - password : 12345678
    - url : http://dev01.lab04b.dw.demandware.net/on/demandware.store/Sites-SiteGenesis-Site
    - urlsec : https://dev01.lab04b.dw.demandware.net/s/SiteGenesis
    - logoutUrl : https://dev01.lab04b.dw.demandware.net/on/demandware.store/Sites-SiteGenesis-Site/en_US/Login-Logout

- Action :
    Name : Open Startpage
    Request :
        Url : ${url}
    Response :
        Validate :
            - Validate Search Bar Text:
                XPath : "//*[@id='q']/@placeholder"
                Text : "Enter Keyword or Item #"

- Action :
    Name : Go to registration form
    Request :
        Url : ${urlsec}/register
    Response :
        Validate :
            - Validate Something :
                XPath : "//*[@id='primary']/h1"
                Matches : "Create Account"
        Store :
            - securekey :
                XPath : "//*[@id='RegistrationForm']/fieldset[2]/input/@value"
            - registrationUrl :
                XPath : "//*[@id='RegistrationForm']/@action"
                
- Action :
    Name : Registration
    Request :
        Url : ${registrationUrl}
        Method : POST
        Parameters :
            - dwfrm_profile_customer_firstname : ${firstName}
            - dwfrm_profile_customer_lastname : ${lastName}
            - dwfrm_profile_customer_email : ${email}
            - dwfrm_profile_customer_emailconfirm : ${email}
            - dwfrm_profile_login_password : ${password}
            - dwfrm_profile_login_passwordconfirm : ${password}
            - dwfrm_profile_customer_addtoemaillist: true
            - dwfrm_profile_confirm : Apply
            - dwfrm_profile_securekey : ${securekey}
    Response :
        Httpcode : 302
        
- Action :
    Name : Accout Settings
    Request : 
        Url : ${urlsec}/account
        Parameters :
            - registration : true
    Response :
        Validate :
            - Validate Name :
                XPath : "//*[@id='primary']/h1"
                Matches :  "My[\\s]Account[\\s]\\|[\\s]${firstName}[\\s\\S]*(Logout)?" 